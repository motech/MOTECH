<div ng-controller="MapsCtrl"  ng-model="data.value" data-index="{{index}}" data-type="{{data.type}}">
    <div class="clearfix margin-before07">
        <label class="input-large-fluid">{{msg('task.map.key')}}/{{msg('task.map.value')}}</label>
    </div>
    <div class="clearfix">
        <div contenteditable ng-model="pair.key" droppable class="actionField map-input input-extra-fluid" data-type="text">
            <span ng-bind-html-unsafe="pair.key" ng-model="pair.key" class="html">
                <h1 contentEditable="false">
                    <span class="editable"></span>
                </h1>
            </span>
        </div>
        <div contenteditable ng-model="pair.value" droppable class="actionField map-input input-extra-fluid" data-type="text">
            <span ng-bind-html-unsafe="pair.value" ng-model="pair.value" class="html">
                <h1 contentEditable="false">
                    <span class="editable"></span>
                </h1>
            </span>
        </div>
        <button class="btn btn-success" ng-click="addPair(pair)"> {{msg('task.map.add')}}</button>
        <div class="text-danger clearfix" ng-show="mapError">
            <span class="form-hint form-hint-bottom">
                {{mapError}}
            </span>
        </div>
    </div>
    <div class="clearfix" ng-repeat="pair in pairs">
        <div contenteditable="false" ng-model="pair.key" droppable class="actionField map-input input-extra-fluid" data-index="{{index}}" data-type="{{data.type}}">
            <span ng-bind-html-unsafe="pair.key" ng-model="pair.key" class="html">
                <h1 contentEditable="false">
                    <span class="editable"></span>
                </h1>
            </span>
        </div>
        <div contenteditable="false" ng-model="pair.value" droppable class="actionField map-input input-extra-fluid" data-index="{{index}}" data-type="{{data.type}}">
            <span ng-bind-html-unsafe="pair.value" ng-model="pair.value" class="html">
                <h1 contentEditable="false">
                    <span class="editable"></span>
                </h1>
            </span>
        </div>

        <button class="btn btn-warning" ng-click="remove($index)">{{msg('task.map.remove')}}</button>
    </div>
    <div class="clearfix">
        <button class="btn btn-danger" ng-click="reset()">{{msg('task.map.reset')}}</button>
    </div>
</div>

